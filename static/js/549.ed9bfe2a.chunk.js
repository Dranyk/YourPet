"use strict";(self.webpackChunkyour_pet=self.webpackChunkyour_pet||[]).push([[549],{8549:function(e,t,n){n.r(t),n.d(t,{default:function(){return se}});var o=n(5861),r=n(9439),s=n(4687),c=n.n(s),a=n(2791),i=n(7689),l=n(1087),u=n(1243),d=function(){var e=(0,o.Z)(c().mark((function e(t,n){var o,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("https://your-pet.onrender.com/api/notices?category=".concat(t,"&search=").concat(n));case 2:return o=e.sent,r=o.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=n(4942),m=n(1413),f="notices-search_header__KeGju",v="notices-search_title__VZjkJ",g="notices-search_form__JXkRi",p="notices-search_input__uw5qW",_="notices-search_button__hweH7";var j=n.p+"static/media/search.41d49a9ae2e0cf1b87a3b9eb48d223c9.svg",x={search:""},w=n(3329),k=function(e){var t=e.onSubmit,n=(0,a.useState)((0,m.Z)({},x)),o=(0,r.Z)(n,2),s=o[0],c=o[1];return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:f,children:[(0,w.jsx)("h1",{className:v,children:"Find your favorite pet"}),(0,w.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===s.search.trim())return alert("Search field is empty");var n=s.search;t({search:n})},action:"",className:g,children:[(0,w.jsx)("input",{onChange:function(e){var t=e.target,n=t.name,o=t.value;c((function(e){return(0,m.Z)((0,m.Z)({},e),{},(0,h.Z)({},n,o))}))},name:"search",value:s.search,type:"search",className:p,placeholder:"Search"}),(0,w.jsx)("button",{type:"submit",className:_,children:(0,w.jsx)("img",{src:j,alt:"iconSearch"})})]})]})})};var b="noticescategories-nav_inner__9ekk4",N="noticescategories-nav_navigation__JLLOJ",y="noticescategories-nav_navigationButton__xI9xJ",Z="noticescategories-nav_functional__FAOUP",L="noticescategories-nav_functionalButton__Qf5ee";var O=n.p+"static/media/filters.89a718e39cb4e1fe213250f774732c2f.svg";var C,F,S,M=n.p+"static/media/plus-small.79b1520b80df332dbb32d481b679a6e1.svg",B=(0,n(6444).ZP)(l.OL)(C||(F=["\n    background-color: #cce4fb;\n    color: #54adff;\n&.active{\n    background-color: #54adff;\n    color: #fef9f9;\n}\n"],S||(S=F.slice(0)),C=Object.freeze(Object.defineProperties(F,{raw:{value:Object.freeze(S)}})))),D=function(){return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:b,children:[(0,w.jsxs)("nav",{className:N,children:[(0,w.jsx)(B,{to:"/notices/sell",className:y,children:"sell"}),(0,w.jsx)(B,{to:"/notices/lost-found",className:y,children:"lost/found"}),(0,w.jsx)(B,{to:"/notices/for-free",className:y,children:"in good hands"}),(0,w.jsx)(B,{to:"/notices/favorite",className:y,children:"favorite ads"}),(0,w.jsx)(B,{to:"/notices/own",className:y,children:"my ads"})]}),(0,w.jsxs)("div",{className:Z,children:[(0,w.jsxs)("button",{type:"button",className:L,children:[(0,w.jsx)("span",{children:"Filter"}),(0,w.jsx)("img",{src:O,alt:"filters"})]}),(0,w.jsxs)("button",{type:"button",className:L,children:[(0,w.jsx)("span",{children:"Add Pet"}),(0,w.jsx)("img",{src:M,alt:"arrow"})]})]})]})})};function I(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},s=Object.keys(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var A="notices-categories-list_list__f4dWN",T=n(5647),P=n(3433),z=n(9434);var V=function(e){return(0,w.jsx)("svg",(0,m.Z)((0,m.Z)({width:25,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:(0,w.jsx)("path",{d:"M12.758 7v5l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",stroke:e.color,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})}))};var W=function(e){return(0,w.jsx)("svg",(0,m.Z)((0,m.Z)({width:25,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:(0,w.jsx)("path",{d:"M12.758 13a5 5 0 100-10 5 5 0 000 10zm0 0v8m-3-3h6",stroke:e.color,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})}))};var E=function(e){return(0,w.jsxs)("svg",(0,m.Z)((0,m.Z)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[(0,w.jsx)("path",{d:"M20.758 11c0 4.418-3.582 8-8 10-4.418-2-8-5.582-8-10a8 8 0 1116 0z",stroke:e.color,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),(0,w.jsx)("path",{d:"M15.758 11a3 3 0 11-6 0 3 3 0 016 0z",stroke:e.color,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})]}))};var J=function(e){return(0,w.jsx)("svg",(0,m.Z)((0,m.Z)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:(0,w.jsx)("path",{d:"M4.331 12.047L12 20l7.669-7.953A4.804 4.804 0 0021 8.714C21 6.111 18.965 4 16.454 4a4.465 4.465 0 00-3.214 1.38L12 6.668 10.76 5.38A4.465 4.465 0 007.546 4C5.036 4 3 6.11 3 8.714c0 1.25.479 2.45 1.331 3.333z",stroke:e.color,fill:e.favorite?e.color:"none",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})}))};var G=function(e){return(0,w.jsx)("svg",(0,m.Z)((0,m.Z)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:(0,w.jsx)("path",{d:"M18 6v12a2 2 0 01-2 2H8a2 2 0 01-2-2V6m9 0V5a2 2 0 00-2-2h-2a2 2 0 00-2 2v1M4 6h16m-10 4v6m4-6v6",stroke:e.color,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})}))};var q=function(e){return(0,w.jsx)("svg",(0,m.Z)((0,m.Z)({width:25,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:(0,w.jsx)("path",{d:"M12.758 11a5 5 0 100 10 5 5 0 000-10zm0 0V3m0 0l4 4m-4-4l-4 4",stroke:e.color,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})}))},H=n(9869),K=function(e){var t=e.onClick,n=e.label,o=e.className,r=e.type,s=e.SVGComponent,c=e.showLabelFirst,a=void 0===c||c;return(0,w.jsxs)("button",{onClick:t,className:o,type:r,children:[a&&n,s&&(0,w.jsx)(s,{}),!a&&n,e.children]})},R=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,a.useState)(e),n=(0,r.Z)(t,2),o=n[0],s=n[1],c=function(){s(!0),document.body.style.overflow="hidden"},i=function(){s(!1),document.body.style.overflow="scroll"},l=function(){return s((function(e){return!e}))};return{isModalOpen:o,openModal:c,closeModal:i,toggleModal:l}},U="modal_modal__e093m",Q="modal_modal__section__gNupi",X=n(4164),Y=document.querySelector("#modal-root"),$=function(e){var t=e.onClose,n=e.children;(0,a.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t]);return(0,X.createPortal)((0,w.jsx)("div",{className:U,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,w.jsx)("div",{className:Q,children:n})}),Y)},ee={listItems:"notice-categories-item_listItems__q3MZ0",imageThumb:"notice-categories-item_imageThumb__GkVvN",photoAnimal:"notice-categories-item_photoAnimal__uOHxV",topBlock:"notice-categories-item_topBlock__KA7-D",categoryInfo:"notice-categories-item_categoryInfo__UT+1P",topBtn:"notice-categories-item_topBtn__ZCosd",topbtn:"notice-categories-item_topbtn__nvg3f",infoCardBlock:"notice-categories-item_infoCardBlock__tZ91c",noticeInfo:"notice-categories-item_noticeInfo__hj3BO",noticeinfo:"notice-categories-item_noticeinfo__OkTno",icon:"notice-categories-item_icon__uKyFy",noticeDesc:"notice-categories-item_noticeDesc__i1LIq",noticeTitle:"notice-categories-item_noticeTitle__JZfl0",learnBtn:"notice-categories-item_learnBtn__Ea514"},te=function(e){var t=e._id,n=e.noticeAvatar,o=e.category,r=e.title,s=e.location,c=e.dateOfBirth,a=e.sex,i=(e.comments,e.breed,e.owner,e.name,(0,z.v9)(H.PR)),l=(0,z.v9)(H.y6),u=R(),d=u.isModalOpen,h=u.closeModal;var m=function(e){var t=e.split(".").map(Number).reverse();t[1]--;var n=(0,T.Z)(Date,(0,P.Z)(t)),o=new Date,r=(o.getFullYear()-t[0])/4;o.setDate(o.getDate()-Math.floor(r));var s=o.getTime()-n.getTime();return Math.floor(317098e-16*s)}(c);return(0,w.jsxs)("li",{className:ee.listItems,children:[(0,w.jsxs)("div",{className:ee.imageThumb,children:[(0,w.jsx)("img",{className:ee.photoAnimal,src:n,alt:r,width:"280"}),(0,w.jsxs)("div",{className:ee.topBlock,children:[(0,w.jsx)("p",{className:ee.categoryInfo,children:o}),(0,w.jsxs)("div",{children:[(0,w.jsx)(K,{className:ee.topBtn,SVGComponent:function(){return(0,w.jsx)(J,{className:ee.favorite?"".concat(ee.icons," ").concat(ee.favoriteIcon):ee.icons,favorite:i.favorite})}}),l&&(0,w.jsx)(K,{className:ee.topBtn,SVGComponent:function(){return(0,w.jsx)(G,{color:"#54ADFF"})}})]})]}),(0,w.jsxs)("div",{className:ee.infoCardBlock,children:[(0,w.jsxs)("p",{className:ee.noticeInfo,children:[(0,w.jsx)(E,{className:ee.icon,color:"#54ADFF"}),s]}),(0,w.jsxs)("p",{className:ee.noticeInfo,children:[(0,w.jsx)(V,{className:ee.icon,color:"#54ADFF"}),1===m?"1 year":"".concat(m," years")]}),(0,w.jsxs)("p",{className:ee.noticeInfo,children:["male"===a.toLowerCase()&&(0,w.jsx)(q,{className:ee.icon,color:"#54ADFF"}),"female"===a.toLowerCase()&&(0,w.jsx)(W,{className:ee.icon,color:"#54ADFF"}),a]})]})]}),(0,w.jsxs)("div",{className:ee.noticeDesc,children:[(0,w.jsxs)("h3",{className:ee.noticeTitle,children:["Cute ",r," looking hor a home"]}),(0,w.jsx)(K,{className:ee.learnBtn,children:"Learn more"}),d&&(0,w.jsx)($,{closeModal:h})]})]},t)},ne=["_id","owner"],oe=function(e){var t=e.items.map((function(e){var t=e._id,n=e.owner,o=I(e,ne);return(0,w.jsx)(te,(0,m.Z)((0,m.Z)({},o),{},{_id:t,owner:n}),t)}));return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("ul",{className:A,children:t})})},re="noticesPage_container__RDcz6",se=function(){var e=(0,a.useState)([]),t=(0,r.Z)(e,2),n=t[0],s=t[1],u=(0,a.useState)(!1),h=(0,r.Z)(u,2),m=h[0],f=h[1],v=(0,a.useState)(null),g=(0,r.Z)(v,2),p=g[0],_=g[1],j=(0,a.useState)(""),x=(0,r.Z)(j,2),b=x[0],N=x[1];console.log("items",n);var y=(0,i.UO)().category;console.log("category",y);var Z=(0,l.lr)(),L=(0,r.Z)(Z,2),O=L[0],C=L[1];(0,a.useEffect)((function(){var e=O.get("search");console.log("currentSearch",e),e&&N(e)}),[O]),(0,a.useEffect)((function(){var e=function(){var e=(0,o.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,d(y,b);case 4:t=e.sent,console.log("data",t),s(t),_(null),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),_(e.t0.message),s([]);case 14:return e.prev=14,f(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})));return function(){return e.apply(this,arguments)}}();e()}),[s,_,f,b,y]);return(0,w.jsxs)("div",{className:re,children:[(0,w.jsx)(k,{onSubmit:function(e){var t=e.search;C({search:t})}}),(0,w.jsx)(D,{}),p&&(0,w.jsx)("p",{children:"...error"}),m&&(0,w.jsx)("p",{children:"...Loading"}),n&&(0,w.jsx)(oe,{items:n})]})}}}]);
//# sourceMappingURL=549.ed9bfe2a.chunk.js.map