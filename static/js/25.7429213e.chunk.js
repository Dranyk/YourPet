"use strict";(self.webpackChunkyour_pet=self.webpackChunkyour_pet||[]).push([[25,87],{3582:function(e,s,r){r.r(s),r.d(s,{default:function(){return N}});var t=r(5861),a=r(9439),o=r(4687),n=r.n(o),i=r(2791),l=r(9434),c=r(1087),m=r(6159),d=r(184),u=function(e){var s=e.active,r=e.setActive,t=e.children;return document.addEventListener("keydown",(function(e){"Escape"===e.key&&(r(!1),console.log("elrfghecorvno"),setTimeout((function(){document.location.replace("/YourPet/user")}),50))})),(0,d.jsx)("div",{className:s?"modal active":"modal",onClick:function(){r(!1),document.location.replace("/YourPet/user")},children:(0,d.jsx)("div",{className:s?"modal__content active":"modal__content",onClick:function(e){e.stopPropagation()},children:t})})},_=r(1421),p=r(1413),f=r(5705),x={email:{type:"email",name:"email",required:!0,label:"User email:",placeholder:"Enter email"},password:{type:"password",name:"password",required:!0,label:"User password:",placeholder:"Enter password"},confirmPassword:{type:"text",name:"confirmPassword",required:!0,label:"User password:",placeholder:"Confirm password"}},g={email:"",password:"",confirmPassword:""},h={formik:"register-form_formik__RyRqW",title:"register-form_title__K1ixr",wrapper:"register-form_wrapper__a4PVQ",field:"register-form_field__xu2al",button:"register-form_button__b4fDA",p:"register-form_p__qFdoA",login:"register-form_login__pZhUK",modal_title:"register-form_modal_title__QfH5L",modal_button:"register-form_modal_button__9dt9r",modal__button_text:"register-form_modal__button_text__aqdKD",modal_button_items:"register-form_modal_button_items__gxzCZ"},v=function(e){var s=e.onSubmit;return console.log("onSubmit",s),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{}),(0,d.jsxs)("section",{className:h.formik,children:[(0,d.jsx)("h2",{className:h.title,children:"Registration"}),(0,d.jsx)(f.J9,{initialValues:g,onSubmit:s,enableReinitialize:!0,children:(0,d.jsxs)(f.l0,{className:h.form,children:[(0,d.jsxs)("div",{className:h.wrapper,children:[(0,d.jsx)(f.gN,(0,p.Z)((0,p.Z)({name:"email"},x.email),{},{className:h.field})),(0,d.jsx)(f.Bc,{name:"email",component:"div"}),(0,d.jsx)(f.gN,(0,p.Z)((0,p.Z)({name:"password"},x.password),{},{className:h.field})),(0,d.jsx)(f.Bc,{name:"password",component:"div"}),(0,d.jsx)(f.gN,(0,p.Z)((0,p.Z)({name:"confirmPassword"},x.confirmPassword),{},{className:h.field})),(0,d.jsx)(f.Bc,{name:"confirmPassword",component:"div"})]}),(0,d.jsx)("button",{className:h.button,type:"submit",children:"Registration"}),(0,d.jsxs)("p",{className:h.p,children:["Already have an account?"," ",(0,d.jsx)(c.OL,{className:h.login,to:"/login",children:"Login"})]})]})})]})]})},w=r(6628),b="register-page_div__XN8R4",j=r(3674),N=function(){var e=(0,i.useState)(!1),s=(0,a.Z)(e,2),r=s[0],o=s[1],p=(0,l.I0)();return(0,d.jsxs)(w.Z,{children:[r&&(0,d.jsx)(m.default,{}),(0,d.jsxs)(u,{active:r,setActive:o,children:[(0,d.jsx)("h2",{className:h.title,children:"Congrats!"}),(0,d.jsx)("h3",{className:h.modal_title,children:" Youre registration is success"}),(0,d.jsx)("button",{className:h.modal_button,children:(0,d.jsxs)("div",{className:h.modal_button_items,children:[(0,d.jsx)(c.OL,{to:"/user",className:h.modal__button_text,children:"Go to profile"}),(0,d.jsx)("img",{src:j.Z,alt:"pawprint"})]})})]}),(0,d.jsx)("div",{className:b,children:(0,d.jsx)(v,{onSubmit:function(e){var s=e.email,r=e.password,a=e.confirmPassword,i={email:s,password:r};if(console.log(e),console.log(r,a),r!==a)return alert("confirmPassword must be same like password");var l=function(){var e=(0,t.Z)(n().mark((function e(){var s,r,t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p((0,_.IU)(i));case 3:if(s=e.sent,console.log(s),(r=s.payload).id&&(o(!0),localStorage.setItem("user",JSON.stringify(r))),409!==r.status){e.next=9;break}return e.abrupt("return",alert("Email in use"));case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),t=e.t0.response,console.log(t.error.message);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();l()}})})]})}}}]);
//# sourceMappingURL=25.7429213e.chunk.js.map