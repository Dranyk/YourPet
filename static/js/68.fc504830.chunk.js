"use strict";(self.webpackChunkyour_pet=self.webpackChunkyour_pet||[]).push([[68,87],{337:function(e,s,a){a.r(s),a.d(s,{default:function(){return L}});var r=a(5861),o=a(9439),i=a(4687),n=a.n(i),t=a(2791),l=a(9434),c=a(1087),d=a(6159),m=a(184),u=function(e){var s=e.active,a=e.setActive,r=e.children;return document.addEventListener("keydown",(function(e){"Escape"===e.key&&(a(!1),console.log("elrfghecorvno"),setTimeout((function(){document.location.replace("/YourPet/user")}),50))})),(0,m.jsx)("div",{className:s?"modal active":"modal",onClick:function(){a(!1),document.location.replace("/YourPet/user")},children:(0,m.jsx)("div",{className:s?"modal__content active":"modal__content",onClick:function(e){e.stopPropagation()},children:r})})},p=a(1421),_=a(1413),f=a(5705),x={email:{type:"email",name:"email",required:!0,label:"User email:",placeholder:"Enter email"},password:{name:"password",required:!0,label:"User password:",placeholder:"Enter password"},confirmPassword:{name:"confirmPassword",required:!0,label:"User password:",placeholder:"Confirm password"}},h={email:"",password:"",confirmPassword:""},w={formik:"register-form_formik__RyRqW",title:"register-form_title__K1ixr",wrapper:"register-form_wrapper__a4PVQ",input_field:"register-form_input_field__87IPM",field_pass:"register-form_field_pass__-LowS",button:"register-form_button__b4fDA",p:"register-form_p__qFdoA",login:"register-form_login__pZhUK"};var v=a.p+"static/media/eye-open.1aad4261a9f03e6275c5a789e0a7310b.svg";var g=a.p+"static/media/eye-closed.095a971de4c426c21e89ae6c71345c51.svg",j=function(e){var s=e.onSubmit;console.log("onSubmit",s);var a=(0,t.useState)(g),r=(0,o.Z)(a,2),i=r[0],n=r[1],l=(0,t.useState)("password"),d=(0,o.Z)(l,2),u=d[0],p=d[1],j=(0,t.useState)(g),N=(0,o.Z)(j,2),b=N[0],k=N[1],y=(0,t.useState)("password"),P=(0,o.Z)(y,2),Z=P[0],S=P[1];return(0,m.jsx)("div",{children:(0,m.jsxs)("section",{className:w.formik,children:[(0,m.jsx)("h2",{className:w.title,children:"Registration"}),(0,m.jsx)(f.J9,{initialValues:h,onSubmit:s,enableReinitialize:!0,children:(0,m.jsxs)(f.l0,{className:w.form,children:[(0,m.jsxs)("div",{className:w.wrapper,children:[(0,m.jsx)("div",{className:w.input_field,children:(0,m.jsx)(f.gN,(0,_.Z)({className:w.field_pass,name:"email"},x.email))}),(0,m.jsx)(f.Bc,{name:"email",component:"div"}),(0,m.jsxs)("div",{className:w.input_field,children:[(0,m.jsx)(f.gN,(0,_.Z)({className:w.field_pass,type:u,name:"password"},x.password)),(0,m.jsx)("span",{className:"password-icon",onClick:function(){"password"===u?(p("text"),n(v)):(p("password"),n(g))},children:(0,m.jsx)("img",{src:i,alt:"icon"})})]}),(0,m.jsx)(f.Bc,{name:"password",component:"div"}),(0,m.jsxs)("div",{className:w.input_field,children:[(0,m.jsx)(f.gN,(0,_.Z)({className:w.field_pass,type:Z,name:"confirmPassword"},x.confirmPassword)),(0,m.jsx)("span",{className:"password-icon",onClick:function(){"password"===Z?(S("text"),k(v)):(S("password"),k(g))},children:(0,m.jsx)("img",{src:b,alt:"icon"})})]}),(0,m.jsx)(f.Bc,{name:"confirmPassword",component:"div"})]}),(0,m.jsx)("button",{className:w.button,type:"submit",children:"Registration"}),(0,m.jsxs)("p",{className:w.p,children:["Already have an account?"," ",(0,m.jsx)(c.OL,{className:w.login,to:"/login",children:"Login"})]})]})})]})})},N=a(6628),b="register-page_div__XN8R4",k="modal_modal__header__W3-jm",y="modal_modal_title__VwF7L",P="modal_modal_button__mnZlo",Z="modal_modal__button_text__P0WlW",S="modal_modal_button_items__7uwev",C=a(3674),L=function(){var e=(0,t.useState)(!1),s=(0,o.Z)(e,2),a=s[0],i=s[1],_=(0,l.I0)();return(0,m.jsxs)(N.Z,{children:[a&&(0,m.jsx)(d.default,{}),(0,m.jsxs)(u,{active:a,setActive:i,children:[(0,m.jsx)("h2",{className:k,children:"Congrats!"}),(0,m.jsx)("h3",{className:y,children:" Youre registration is success"}),(0,m.jsx)("button",{className:P,children:(0,m.jsxs)("div",{className:S,children:[(0,m.jsx)(c.OL,{to:"/user",className:Z,children:"Go to profile"}),(0,m.jsx)("img",{src:C.Z,alt:"pawprint"})]})})]}),(0,m.jsx)("div",{className:b,children:(0,m.jsx)(j,{onSubmit:function(e){var s=e.email,a=e.password,o=e.confirmPassword,t={email:s,password:a};if(console.log(e),console.log(a,o),a!==o)return alert("confirmPassword must be same like password");var l=function(){var e=(0,r.Z)(n().mark((function e(){var s,a,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_((0,p.IU)(t));case 3:if(s=e.sent,console.log(s),(a=s.payload).id&&(i(!0),localStorage.setItem("user",JSON.stringify(a))),409!==a.status){e.next=9;break}return e.abrupt("return",alert("Email in use"));case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),r=e.t0.response,console.log(r.error.message);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();l()}})})]})}}}]);
//# sourceMappingURL=68.fc504830.chunk.js.map