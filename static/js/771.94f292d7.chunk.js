"use strict";(self.webpackChunkyour_pet=self.webpackChunkyour_pet||[]).push([[771],{2771:function(e,n,r){r.r(n),r.d(n,{default:function(){return S}});var t=r(9434),a=r(7689),s=r(4942),u=r(1413),o=r(9439),i=r(2791),c={email:"",password:""},l={type:"email",name:"email",required:!0,placeholder:"Enter your email"},p={type:"password",name:"password",required:!0,placeholder:"Enter your password"},h="LoginForm_form__gPEx5",m="LoginForm_h__fj8ap",f="LoginForm_p__7P1Yo",d="LoginForm_label__F7sLE",_="LoginForm_input__aQRtt",g="LoginForm_button__LodJg",v="LoginForm_pp__2hSsc",x=r(184),b=function(e){var n=e.onSubmit,r=(0,i.useState)((0,u.Z)({},c)),t=(0,o.Z)(r,2),a=t[0],b=t[1],j=(0,i.useCallback)((function(e){var n=e.target,r=n.name,t=n.value;b((function(e){return(0,u.Z)((0,u.Z)({},e),{},(0,s.Z)({},r,t))}))}),[b]),L=a.email,Z=a.password;return(0,x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n((0,u.Z)({},a)),b((0,u.Z)({},c))},className:h,children:[(0,x.jsx)("h2",{className:m,children:"Login"}),(0,x.jsx)("label",{className:d,children:(0,x.jsx)("input",(0,u.Z)({className:_,value:L,onChange:j},l))}),(0,x.jsx)("label",{className:d,children:(0,x.jsx)("input",(0,u.Z)({className:_,value:Z,onChange:j},p))}),(0,x.jsx)("button",{className:g,type:"submit",children:(0,x.jsx)("p",{className:v,children:"Login"})}),(0,x.jsx)("p",{className:f,children:"Don't have an account? Register"})]})},j=r(5861),L=r(4687),Z=r.n(L),w=r(8690),k=r(1243).Z.create({baseURL:"https://connections-api.herokuapp.com/"}),y=function(e){if(e)return k.defaults.headers.authorization="Bearer ".concat(e);k.defaults.headers.authorization=""},F=function(){var e=(0,j.Z)(Z().mark((function e(n){var r,t;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/users/login/",n);case 2:return r=e.sent,t=r.data,y(t.token),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),N=(0,w.hg)("auth/login",function(){var e=(0,j.Z)(Z().mark((function e(n,r){var t,a,s;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.rejectWithValue,e.prev=1,e.next=4,F(n);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(1),s=e.t0.response,e.abrupt("return",t(s));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n,r){return e.apply(this,arguments)}}()),C=function(e){return e.auth.isLogin},S=function(){var e=(0,t.v9)(C),n=(0,t.I0)();return e?(0,x.jsx)(a.Fg,{to:"/contacts"}):(0,x.jsx)("div",{children:(0,x.jsx)(b,{onSubmit:function(e){n(N(e))}})})}}}]);
//# sourceMappingURL=771.94f292d7.chunk.js.map