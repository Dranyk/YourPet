"use strict";(self.webpackChunkyour_pet=self.webpackChunkyour_pet||[]).push([[510],{3358:function(e,t,s){s.r(t),s.d(t,{default:function(){return W}});var a=s(5861),c=s(9439),r=s(4687),i=s.n(r),n=s(2791),l=s(7689),o=s(1087),u=s(1243),d=function(){var e=(0,a.Z)(i().mark((function e(t,s){var a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("https://your-pet.onrender.com/api/notices?category=".concat(t,"&search=").concat(s));case 2:return a=e.sent,c=a.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),h=s(4942),f=s(1413),m="notices-search_header__KeGju",p="notices-search_title__VZjkJ",x="notices-search_form__JXkRi",j="notices-search_input__uw5qW",_="notices-search_button__hweH7";var v=s.p+"static/media/search.41d49a9ae2e0cf1b87a3b9eb48d223c9.svg",g={search:""},b=s(3329),N=function(e){var t=e.onSubmit,s=(0,n.useState)((0,f.Z)({},g)),a=(0,c.Z)(s,2),r=a[0],i=a[1];return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:m,children:[(0,b.jsx)("h1",{className:p,children:"Find your favorite pet"}),(0,b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===r.search.trim())return alert("Search field is empty");var s=r.search;t({search:s})},action:"",className:x,children:[(0,b.jsx)("input",{onChange:function(e){var t=e.target,s=t.name,a=t.value;i((function(e){return(0,f.Z)((0,f.Z)({},e),{},(0,h.Z)({},s,a))}))},name:"search",value:r.search,type:"search",className:j,placeholder:"Search"}),(0,b.jsx)("button",{type:"submit",className:_,children:(0,b.jsx)("img",{src:v,alt:"iconSearch"})})]})]})})};var y="noticescategories-nav_inner__9ekk4",k="noticescategories-nav_navigation__JLLOJ",Z="noticescategories-nav_navigationButton__xI9xJ",w="noticescategories-nav_functional__FAOUP",S="noticescategories-nav_functionalButton__Qf5ee";var L=s.p+"static/media/filters.89a718e39cb4e1fe213250f774732c2f.svg";var P,B,D,O=s.p+"static/media/plus-small.79b1520b80df332dbb32d481b679a6e1.svg",F=(0,s(6444).ZP)(o.OL)(P||(B=["\n    background-color: #cce4fb;\n    color: #54adff;\n&.active{\n    background-color: #54adff;\n    color: #fef9f9;\n}\n"],D||(D=B.slice(0)),P=Object.freeze(Object.defineProperties(B,{raw:{value:Object.freeze(D)}})))),A=function(){return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:y,children:[(0,b.jsxs)("nav",{className:k,children:[(0,b.jsx)(F,{to:"/notices/sell",className:Z,children:"sell"}),(0,b.jsx)(F,{to:"/notices/lost-found",className:Z,children:"lost/found"}),(0,b.jsx)(F,{to:"/notices/fo-free",className:Z,children:"in good hands"}),(0,b.jsx)(F,{to:"/notices/favorite",className:Z,children:"favorite ads"}),(0,b.jsx)(F,{to:"/notices/own",className:Z,children:"my ads"})]}),(0,b.jsxs)("div",{className:w,children:[(0,b.jsxs)("button",{type:"button",className:S,children:[(0,b.jsx)("span",{children:"Filter"}),(0,b.jsx)("img",{src:L,alt:"filters"})]}),(0,b.jsxs)("button",{type:"button",className:S,children:[(0,b.jsx)("span",{children:"Add Pet"}),(0,b.jsx)("img",{src:O,alt:"arrow"})]})]})]})})},I={list:"notices-categories-list_list__f4dWN",article:"notices-categories-list_article__SuAue",articlePicture:"notices-categories-list_articlePicture__QP1pF",articleDescription:"notices-categories-list_articleDescription__norCN",articleHeader:"notices-categories-list_articleHeader__AHJ02",articleLine:"notices-categories-list_articleLine__8TmXU",articleDecor:"notices-categories-list_articleDecor__V9U8P",articleList:"notices-categories-list_articleList__ejb-B",articleItems:"notices-categories-list_articleItems__eWOv8",functionalButton:"notices-categories-list_functionalButton__qE3Yz"},J=s.p+"static/media/img.c90454e82313dc45f19f.jpg";var H=s.p+"static/media/paw.1cd21d24f97815ef543333c0cf29241e.svg";var z=s.p+"static/media/heart.134f481623a2c9a120f1cc64e3a6653c.svg";var C=s.p+"static/media/location.2606cb0c4845c7df3a72a34557289b83.svg";var U=s.p+"static/media/clock.ed1956f5b731a905ca7f350c5f907dea.svg";var X=s.p+"static/media/female.3b421a5dbc31479a694f618962e096bf.svg",E=function(e){var t=e.items,s=new Date,a=Number(s.getFullYear()),c=t.map((function(e){var t=e._id,s=e.category,c=e.location,r=e.sex,i=e.dateOfBirth,n=e.title;return(0,b.jsx)("li",{className:I.item,children:(0,b.jsxs)("article",{className:I.article,children:[(0,b.jsxs)("div",{className:I.articleDescription,children:[(0,b.jsx)("h4",{children:n}),(0,b.jsxs)("button",{type:"button",children:["Learn more ",(0,b.jsx)("img",{src:H,alt:"paw icon"})]})]}),(0,b.jsxs)("div",{className:I.articleHeader,children:[(0,b.jsxs)("button",{type:"button",className:I.functionalButton,children:[(0,b.jsx)("span",{children:"Add Pet"}),(0,b.jsx)("img",{src:O,alt:"arrow"})]}),(0,b.jsx)("picture",{className:I.articlePicture,children:(0,b.jsx)("img",{src:J,alt:"pictureArticle"})}),(0,b.jsxs)("div",{className:I.articleLine,children:[(0,b.jsx)("span",{children:s}),(0,b.jsx)("div",{className:I.articleDecor,children:(0,b.jsxs)("button",{type:"button",children:[" ",(0,b.jsx)("img",{src:z,alt:"icon"})," "]})})]}),(0,b.jsxs)("ul",{className:I.articleList,children:[(0,b.jsx)("li",{className:I.articleItems,children:(0,b.jsxs)("a",{href:"https://goo.gl/maps/SrRuXZp4GT4sXf476?coh=178571&entry=tt",target:"_blank",rel:"noopener noreferrer",children:[(0,b.jsx)("img",{src:C,alt:"location"}),(0,b.jsx)("span",{children:c})]})}),(0,b.jsx)("li",{className:I.articleItems,children:(0,b.jsxs)("button",{type:"button",className:I.articleButton,children:[(0,b.jsx)("img",{src:U,alt:"clock"}),(0,b.jsxs)("span",{children:[Number(i.slice(6,10)-a)," year"]})]})}),(0,b.jsx)("li",{className:I.articleItems,children:(0,b.jsxs)("button",{type:"button",className:I.articleButton,children:[(0,b.jsx)("img",{src:X,alt:"female"}),(0,b.jsx)("span",{children:r})]})})]})]})]})},t)}));return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("ul",{className:I.list,children:c})})},R="noticesPage_container__RDcz6",W=function(){var e=(0,n.useState)([]),t=(0,c.Z)(e,2),s=t[0],r=t[1],u=(0,n.useState)(!1),h=(0,c.Z)(u,2),f=h[0],m=h[1],p=(0,n.useState)(null),x=(0,c.Z)(p,2),j=x[0],_=x[1],v=(0,n.useState)(""),g=(0,c.Z)(v,2),y=g[0],k=g[1];console.log("items",s);var Z=(0,l.UO)().category;console.log("category",Z);var w=(0,o.lr)(),S=(0,c.Z)(w,2),L=S[0],P=S[1];(0,n.useEffect)((function(){var e=L.get("search");console.log("currentSearch",e),e&&k(e)}),[L]),(0,n.useEffect)((function(){var e=function(){var e=(0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,d(Z,y);case 4:t=e.sent,console.log("data",t),r(t),_(null),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),_(e.t0.message),r([]);case 14:return e.prev=14,m(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})));return function(){return e.apply(this,arguments)}}();e()}),[r,_,m,y,Z]);return(0,b.jsxs)("div",{className:R,children:[(0,b.jsx)(N,{onSubmit:function(e){var t=e.search;P({search:t})}}),(0,b.jsx)(A,{}),j&&(0,b.jsx)("p",{children:"...error"}),f&&(0,b.jsx)("p",{children:"...Loading"}),s&&(0,b.jsx)(E,{items:s})]})}}}]);
//# sourceMappingURL=510.4f412a03.chunk.js.map