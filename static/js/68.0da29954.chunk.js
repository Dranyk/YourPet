"use strict";(self.webpackChunkyour_pet=self.webpackChunkyour_pet||[]).push([[68],{2512:function(e,t,n){n.r(t),n.d(t,{default:function(){return _e}});var o=n(5861),c=n(9439),i=n(4687),a=n.n(i),s=n(2791),r=n(7689),l=n(1087),_=n(1243),m=function(){var e=(0,o.Z)(a().mark((function e(t,n){var o,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Z.get("https://your-pet.onrender.com/api/notices?category=".concat(t,"&search=").concat(n));case 2:return o=e.sent,c=o.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=(0,o.Z)(a().mark((function e(t){var n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Z.get("https://your-pet.onrender.com/api/notices/userfavoritenotices",{headers:{Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,o=n.data,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,o.Z)(a().mark((function e(t){var n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Z.get("https://your-pet.onrender.com/api/notices/mynotices",{headers:{Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,o=n.data,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=n(4942),f=n(1413),p="notices-search_header__KeGju",v="notices-search_title__VZjkJ",x="notices-search_form__JXkRi",j="notices-search_input__uw5qW",g="notices-search_button__hweH7";var N=n.p+"static/media/search.41d49a9ae2e0cf1b87a3b9eb48d223c9.svg",b={search:""},k=n(184),w=function(e){var t=e.onSubmit,n=(0,s.useState)((0,f.Z)({},b)),o=(0,c.Z)(n,2),i=o[0],a=o[1];return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:p,children:[(0,k.jsx)("h1",{className:v,children:"Find your favorite pet"}),(0,k.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===i.search.trim())return alert("Search field is empty");var n=i.search;t({search:n})},action:"",className:x,children:[(0,k.jsx)("input",{onChange:function(e){var t=e.target,n=t.name,o=t.value;a((function(e){return(0,f.Z)((0,f.Z)({},e),{},(0,h.Z)({},n,o))}))},name:"search",value:i.search,type:"search",className:j,placeholder:"Search"}),(0,k.jsx)("button",{type:"submit",className:g,children:(0,k.jsx)("img",{src:N,alt:"iconSearch"})})]})]})})};var y="noticescategories-nav_inner__9ekk4",Z="noticescategories-nav_navigation__JLLOJ",C="noticescategories-nav_navigationButton__xI9xJ",I="noticescategories-nav_functional__FAOUP",L="noticescategories-nav_functionalButton__Qf5ee";var O=n.p+"static/media/filters.89a718e39cb4e1fe213250f774732c2f.svg";var B,F,M,A=n.p+"static/media/plus-small.79b1520b80df332dbb32d481b679a6e1.svg",S=n(8226),D=(0,n(6444).ZP)(l.OL)(B||(F=["\n    background-color: #cce4fb;\n    color: #54adff;\n&.active{\n    background-color: #54adff;\n    color: #fef9f9;\n}\n"],M||(M=F.slice(0)),B=Object.freeze(Object.defineProperties(F,{raw:{value:Object.freeze(M)}})))),P=function(){var e=(0,S.a)().isLoggedIn;return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:y,children:[(0,k.jsxs)("nav",{className:Z,children:[(0,k.jsx)(D,{to:"/notices/sell",className:C,children:"sell"}),(0,k.jsx)(D,{to:"/notices/lost-found",className:C,children:"lost/found"}),(0,k.jsx)(D,{to:"/notices/for-free",className:C,children:"in good hands"}),e&&(0,k.jsx)(D,{to:"/notices/favorite",className:C,children:"favorite ads"}),e&&(0,k.jsx)(D,{to:"/notices/own",className:C,children:"my ads"})]}),(0,k.jsxs)("div",{className:I,children:[(0,k.jsxs)("button",{type:"button",className:L,children:[(0,k.jsx)("span",{children:"Filter"}),(0,k.jsx)("img",{src:O,alt:"filters"})]}),(0,k.jsxs)("button",{type:"button",className:L,children:[(0,k.jsx)("span",{children:"Add Pet"}),(0,k.jsx)("img",{src:A,alt:"arrow"})]})]})]})})};function E(e,t){if(null==e)return{};var n,o,c=function(e,t){if(null==e)return{};var n,o,c={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var z="notices-categories-list_list__f4dWN",T=n(9434);var W=function(e){return(0,k.jsx)("svg",(0,f.Z)((0,f.Z)({width:25,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:(0,k.jsx)("path",{d:"M12.758 7v5l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",stroke:e.color,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})}))};var V=function(e){return(0,k.jsx)("svg",(0,f.Z)((0,f.Z)({width:25,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:(0,k.jsx)("path",{d:"M12.758 13a5 5 0 100-10 5 5 0 000 10zm0 0v8m-3-3h6",stroke:e.color,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})}))};var H=function(e){return(0,k.jsxs)("svg",(0,f.Z)((0,f.Z)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[(0,k.jsx)("path",{d:"M20.758 11c0 4.418-3.582 8-8 10-4.418-2-8-5.582-8-10a8 8 0 1116 0z",stroke:e.color,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),(0,k.jsx)("path",{d:"M15.758 11a3 3 0 11-6 0 3 3 0 016 0z",stroke:e.color,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})]}))};var J=function(e){return(0,k.jsx)("svg",(0,f.Z)((0,f.Z)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:(0,k.jsx)("path",{d:"M4.331 12.047L12 20l7.669-7.953A4.804 4.804 0 0021 8.714C21 6.111 18.965 4 16.454 4a4.465 4.465 0 00-3.214 1.38L12 6.668 10.76 5.38A4.465 4.465 0 007.546 4C5.036 4 3 6.11 3 8.714c0 1.25.479 2.45 1.331 3.333z",stroke:e.color,fill:e.favorite?e.color:"none",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})}))};var G=function(e){return(0,k.jsx)("svg",(0,f.Z)((0,f.Z)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:(0,k.jsx)("path",{d:"M18 6v12a2 2 0 01-2 2H8a2 2 0 01-2-2V6m9 0V5a2 2 0 00-2-2h-2a2 2 0 00-2 2v1M4 6h16m-10 4v6m4-6v6",stroke:e.color,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})}))};var q=function(e){return(0,k.jsx)("svg",(0,f.Z)((0,f.Z)({width:25,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:(0,k.jsx)("path",{d:"M12.758 11a5 5 0 100 10 5 5 0 000-10zm0 0V3m0 0l4 4m-4-4l-4 4",stroke:e.color,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})}))},R=function(e){var t=e.onClick,n=e.label,o=e.className,c=e.type,i=e.SVGComponent,a=e.showLabelFirst,s=void 0===a||a;return(0,k.jsxs)("button",{onClick:t,className:o,type:c,children:[s&&n,i&&(0,k.jsx)(i,{}),!s&&n,e.children]})},K=n(9869),U=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,s.useState)(e),n=(0,c.Z)(t,2),o=n[0],i=n[1],a=function(){i(!0),document.body.style.overflow="hidden"},r=function(){i(!1),document.body.style.overflow="scroll"},l=function(){return i((function(e){return!e}))};return{isModalOpen:o,openModal:a,closeModal:r,toggleModal:l}},Y="modal_modal__e093m",Q="modal_modal__section__gNupi",X=n(4164),$=document.querySelector("#modal-root"),ee=function(e){var t=e.onClose,n=e.children;(0,s.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t]);return(0,X.createPortal)((0,k.jsx)("div",{className:Y,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,k.jsx)("div",{className:Q,children:n})}),$)},te={modal_notice__button_favorite:"modal-notice_modal_notice__button_favorite__fZMoP",modal_notice__content:"modal-notice_modal_notice__content__7G4TM",modal_notice__close:"modal-notice_modal_notice__close__uWDq9",modal_notice__image_content:"modal-notice_modal_notice__image_content__7sK-N",modal_notice__image:"modal-notice_modal_notice__image__hYAkp",modal_notice__category:"modal-notice_modal_notice__category__bkOCW",modal_notice__title:"modal-notice_modal_notice__title__rJZcV",modal_notice__list:"modal-notice_modal_notice__list__PeU-J",modal_notice__item:"modal-notice_modal_notice__item__gTQ2B",modal_notice__item_title:"modal-notice_modal_notice__item_title__kwIqt",modal_notice__item_description:"modal-notice_modal_notice__item_description__EW3ck",modal_notice__item_comment:"modal-notice_modal_notice__item_comment__-B68t",modal_notice__button_container:"modal-notice_modal_notice__button_container__hRoP7",modal_notice__button:"modal-notice_modal_notice__button__HYmua",modal_notice__content_info:"modal-notice_modal_notice__content_info__eoMOE"},ne=n(7214),oe=n.p+"static/media/img.c90454e82313dc45f19f.jpg",ce=function(e){var t=e.id,n=e.onClose,o=e.onAddDelete,c=e.categoryNotice,i=e.favorite,a=e._id,s=e.noticeAvatar,r=e.category,l=e.title,_=e.location,m=e.dateOfBirth,d=e.sex,u=e.comments,h=e.breed,f=e.owner,p=e.name,v=e.price,x=(0,T.v9)(K.NH),j=(0,T.v9)((function(e){return e.notice}));return(0,k.jsx)(k.Fragment,{children:x?(0,k.jsx)(ne.Z,{}):(0,k.jsx)(k.Fragment,{children:null!==j&&(0,k.jsx)("li",{className:te.listItems,children:(0,k.jsxs)("div",{className:te.modal_notice__content,children:[(0,k.jsxs)("div",{className:te.modal_notice__content_info,children:[(0,k.jsx)("div",{className:te.modal_notice__close,onClick:n,children:(0,k.jsx)(oe,{id:"icon-close"})}),(0,k.jsxs)("div",{className:te.modal_notice__image_content,children:[(0,k.jsx)("img",{className:te.modal_notice__image,src:s,alt:p}),(0,k.jsx)("span",{className:te.modal_notice__category,children:c(r)})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("h3",{className:te.modal_notice__title,children:l}),(0,k.jsxs)("ul",{className:te.modal_notice__list,children:[(0,k.jsxs)("li",{className:te.modal_notice__item,children:[(0,k.jsx)("h4",{className:te.modal_notice__item_title,children:"Name:"}),(0,k.jsx)("p",{className:te.modal_notice__item_description,children:p})]}),(0,k.jsxs)("li",{className:te.modal_notice__item,children:[(0,k.jsx)("h4",{className:te.modal_notice__item_title,children:"Birthday:"}),(0,k.jsx)("p",{className:te.modal_notice__item_description,children:function(e){var t=new Date(e);return"".concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,".").concat(t.getDate()<10?"0".concat(t.getDate()):t.getDate(),".").concat(t.getFullYear())}(m)})]}),(0,k.jsxs)("li",{className:te.modal_notice__item,children:[(0,k.jsx)("h4",{className:te.modal_notice__item_title,children:"Breed:"}),(0,k.jsx)("p",{className:te.modal_notice__item_description,children:h})]}),(0,k.jsxs)("li",{className:te.modal_notice__item,children:[(0,k.jsx)("h4",{className:te.modal_notice__item_title,children:"Place:"}),(0,k.jsx)("p",{className:te.modal_notice__item_description,children:_})]}),(0,k.jsxs)("li",{className:te.modal_notice__item,children:[(0,k.jsx)("h4",{className:te.modal_notice__item_title,children:"The sex:"}),(0,k.jsx)("p",{className:te.modal_notice__item_description,children:d})]}),(0,k.jsxs)("li",{className:te.modal_notice__item,children:[(0,k.jsx)("h4",{className:te.modal_notice__item_title,children:"Email:"}),(0,k.jsx)("a",{href:"mailto:".concat(f.email),className:"".concat(te.modal_notice__item_description," ").concat(te.modal_notice__item_description_link),type:"button",children:f.email})]}),(0,k.jsxs)("li",{className:te.modal_notice__item,children:[(0,k.jsx)("h4",{className:te.modal_notice__item_title,children:"Phone:"}),(0,k.jsx)("a",{href:"tel:+".concat(f.phone),className:"".concat(te.modal_notice__item_description," ").concat(te.modal_notice__item_description_link),type:"button",children:"+".concat(f.phone)})]}),"In good hands"!==r&&(0,k.jsxs)("li",{className:te.modal_notice__item,children:[(0,k.jsx)("h4",{className:te.modal_notice__item_title,children:"Price:"}),(0,k.jsx)("p",{className:te.modal_notice__item_description,children:"".concat(v,"$")})]})]})]})]}),(0,k.jsxs)("article",{className:te.modal_notice__item_comment,children:[(0,k.jsx)("span",{className:te.modal_notice__item_title,children:"Comments:"}),u]}),(0,k.jsxs)("div",{className:te.modal_notice__button_container,children:[(0,k.jsx)("a",{href:"tel:+".concat(f.phone),className:"".concat(te.button__primary_main," ").concat(te.modal_notice__button," ").concat(te.modal_notice__button_contact),type:"button",children:"Contact"}),i&&(0,k.jsxs)("button",{onClick:function(){o(t)},className:"".concat(te.button__primary_not_main," ").concat(te.modal_notice__button),type:"button",children:["Remove",(0,k.jsx)(oe,{className:te.modal_notice__button_favorite,id:"icon-heart-favorite"})]}),!i&&(0,k.jsxs)("button",{onClick:function(){o(t)},className:"".concat(te.button__primary_not_main," ").concat(te.modal_notice__button),type:"button",children:["Add to",(0,k.jsx)(oe,{className:te.modal_notice__button_favorite,id:"icon-heart-favorite"})]})]})]})},a)})})},ie={listItems:"notice-categories-item_listItems__q3MZ0",imageThumb:"notice-categories-item_imageThumb__GkVvN",photoAnimal:"notice-categories-item_photoAnimal__uOHxV",topBlock:"notice-categories-item_topBlock__KA7-D",icons:"notice-categories-item_icons__OA2wx",favoriteIcon:"notice-categories-item_favoriteIcon__RZcHj",infoIcons:"notice-categories-item_infoIcons__Hv2e1",categoryInfo:"notice-categories-item_categoryInfo__UT+1P",topBtn:"notice-categories-item_topBtn__ZCosd",topbtn:"notice-categories-item_topbtn__nvg3f",infoCardBlock:"notice-categories-item_infoCardBlock__tZ91c",noticeInfo:"notice-categories-item_noticeInfo__hj3BO",noticeinfo:"notice-categories-item_noticeinfo__OkTno",locationInfo:"notice-categories-item_locationInfo__GQHbo",icon:"notice-categories-item_icon__uKyFy",noticeDesc:"notice-categories-item_noticeDesc__i1LIq",locationIcon:"notice-categories-item_locationIcon__PVEbn",noticeTitle:"notice-categories-item_noticeTitle__JZfl0",learnBtn:"notice-categories-item_learnBtn__Ea514"},ae=function(e){var t=e._id,n=e.noticeAvatar,o=e.category,c=e.title,i=e.location,a=e.dateOfBirth,s=e.sex,r=(e.comments,e.breed,e.owner,e.name,(0,T.v9)(K.y6)),l=U(),_=l.isModalOpen,m=l.openModal,d=l.closeModal,u=new Date,h=Number(u.getFullYear()),f=Number(a.slice(6,10)-h);return(0,k.jsxs)("li",{className:ie.listItems,children:[(0,k.jsxs)("div",{className:ie.imageThumb,children:[(0,k.jsx)("img",{className:ie.photoAnimal,src:n,alt:c,width:"280"}),(0,k.jsxs)("div",{className:ie.topBlock,children:[(0,k.jsx)("p",{className:ie.categoryInfo,children:o}),r&&(0,k.jsxs)("div",{children:[(0,k.jsx)(R,{className:ie.topBtn,SVGComponent:function(){return(0,k.jsx)(J,{className:ie.favorite?"".concat(ie.icons," ").concat(ie.favoriteIcon):ie.icons})}}),(0,k.jsx)(R,{className:ie.topBtn,SVGComponent:function(){return(0,k.jsx)(G,{color:"#54ADFF"})}})]})]}),(0,k.jsxs)("div",{className:ie.infoCardBlock,children:[(0,k.jsxs)("p",{className:ie.noticeInfo,children:[(0,k.jsx)(H,{className:ie.icon,color:"#54ADFF"}),i]}),(0,k.jsxs)("p",{className:ie.noticeInfo,children:[(0,k.jsx)(W,{className:ie.icon,color:"#54ADFF"}),0===f?"1 year":"".concat(f," years")]}),(0,k.jsxs)("p",{className:ie.noticeInfo,children:["male"===s.toLowerCase()&&(0,k.jsx)(q,{className:ie.icon,color:"#54ADFF"}),"female"===s.toLowerCase()&&(0,k.jsx)(V,{className:ie.icon,color:"#54ADFF"}),s]})]})]}),(0,k.jsxs)("div",{className:ie.noticeDesc,children:[(0,k.jsxs)("h3",{className:ie.noticeTitle,children:["Cute ",c," looking for a home"]}),(0,k.jsx)(R,{className:ie.learnBtn,onClick:m,children:"Learn more"}),_&&(0,k.jsx)(ee,{closeModal:d,children:(0,k.jsx)(ce,{_id:!0,noticeAvatar:!0,category:!0,location:!0,dateOfBirth:!0,sex:!0,title:!0,comments:!0,breed:!0,owner:!0,name:!0})})]})]},t)},se=["_id","owner"],re=function(e){var t=e.items.map((function(e){var t=e._id,n=e.owner,o=E(e,se);return(0,k.jsx)(ae,(0,f.Z)((0,f.Z)({},o),{},{_id:t,owner:n}),t)}));return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("ul",{className:z,children:t})})},le="noticesPage_container__RDcz6",_e=function(){var e=(0,s.useState)([]),t=(0,c.Z)(e,2),n=t[0],i=t[1],_=(0,s.useState)(!1),h=(0,c.Z)(_,2),f=h[0],p=h[1],v=(0,s.useState)(null),x=(0,c.Z)(v,2),j=x[0],g=x[1],N=(0,s.useState)(""),b=(0,c.Z)(N,2),y=b[0],Z=b[1];console.log("items",n);var C=(0,T.v9)(K.Hz).token;console.log("tokenNoticesPage",C),(0,s.useEffect)((function(){var e=function(){var e=(0,o.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,d(C);case 4:t=e.sent,console.log("dataFavorite",t),i(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),g(e.t0.message);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[i,g,p,C]),(0,s.useEffect)((function(){var e=function(){var e=(0,o.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,u(C);case 4:t=e.sent,console.log("dataFavorite",t),i(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),g(e.t0.message);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[i,g,p,C]);var I=(0,r.UO)().category;console.log("category",I);var L=(0,l.lr)(),O=(0,c.Z)(L,2),B=O[0],F=O[1];(0,s.useEffect)((function(){var e=B.get("search");console.log("currentSearch",e),e&&Z(e)}),[B]),(0,s.useEffect)((function(){var e=function(){var e=(0,o.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,m(I,y);case 4:t=e.sent,console.log("data",t),i(t),g(null),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),g(e.t0.message),i([]);case 14:return e.prev=14,p(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})));return function(){return e.apply(this,arguments)}}();e()}),[i,g,p,y,I]);return(0,k.jsxs)("div",{className:le,children:[(0,k.jsx)(w,{onSubmit:function(e){var t=e.search;F({search:t})}}),(0,k.jsx)(P,{}),f&&(0,k.jsx)(ne.Z,{}),j&&(0,k.jsx)("p",{children:"...error"}),n&&(0,k.jsx)(re,{items:n})]})}}}]);
//# sourceMappingURL=68.0da29954.chunk.js.map